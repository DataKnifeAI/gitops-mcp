apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: mcp-servers

resources:
  # Namespace
  - namespace.yaml
  
  # Harbor Certificate Configuration (DaemonSet)
  - mcp-servers/containerd-harbor-cert-config-daemonset.yaml
  
  # Proxmox VE MCP
  - mcp-servers/proxmox-ve-mcp/deployment.yaml
  - mcp-servers/proxmox-ve-mcp/service.yaml
  - mcp-servers/proxmox-ve-mcp/configmap.yaml
  - mcp-servers/proxmox-ve-mcp/ingress.yaml
  
  # UniFi Network MCP
  - mcp-servers/unifi-network-mcp/deployment.yaml
  - mcp-servers/unifi-network-mcp/service.yaml
  - mcp-servers/unifi-network-mcp/configmap.yaml
  - mcp-servers/unifi-network-mcp/ingress.yaml
  
  # UniFi Protect MCP
  - mcp-servers/unifi-protect-mcp/deployment.yaml
  - mcp-servers/unifi-protect-mcp/service.yaml
  - mcp-servers/unifi-protect-mcp/configmap.yaml
  - mcp-servers/unifi-protect-mcp/ingress.yaml
  
  # High Command MCP
  - mcp-servers/high-command-mcp/deployment.yaml
  - mcp-servers/high-command-mcp/service.yaml
  - mcp-servers/high-command-mcp/configmap.yaml
  - mcp-servers/high-command-mcp/ingress.yaml

# Note: secrets.yaml files should be added separately and not committed to git
# Uncomment and add secret files when using kustomize:
# - mcp-servers/proxmox-ve-mcp/secret.yaml
# - mcp-servers/unifi-network-mcp/secret.yaml
# - mcp-servers/unifi-protect-mcp/secret.yaml

labels:
  - pairs:
      managed-by: gitops
      component: mcp-infrastructure
